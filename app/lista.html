<!DOCTYPE html>
<html lang="pl"><head>
<meta charset="utf-8"/>
<link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
<link as="style" href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800" onload="this.rel='stylesheet'" rel="stylesheet"/>
<title>Świat Smartfonów - Lista zdjęć</title>
<link href="data:image/x-icon;base64," rel="icon" type="image/x-icon"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
    :root {
      --primary-color: #141414;
      --secondary-color: #007AFF;
      --background-color: #F9F9F9;
      --text-primary: #1C1C1E;
      --text-secondary: #636366;
      --accent-color: #E5E5EA;
    }
    body {
      font-family: 'Plus Jakarta Sans', 'Noto Sans', sans-serif;
    }
  </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body class="bg-[var(--background-color)] text-[var(--text-primary)]">
<div class="relative flex size-full min-h-screen flex-col justify-between group/design-root overflow-x-hidden">
<div class="flex-grow">
<header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-sm">
<div class="container mx-auto flex items-center justify-between p-4">
<a class="flex items-center gap-2 text-xl font-bold" href="#">
<svg class="text-[var(--secondary-color)]" fill="none" height="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="28" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg>
<span class="text-xl font-black">Świat Smartfonów</span>
</a>
<div class="relative group">
<button class="p-2">
<svg fill="none" height="28" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="28" xmlns="http://www.w3.org/2000/svg"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg>
</button>
<div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-20 hidden group-hover:block">
<a class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" href="lista.html">Lista zdjęć</a>
<a class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" href="add.html">Dodaj zdjęcie</a>
<a class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" href="delete.html">Usuń zdjęcia</a>
</div>
</div>
</div>
</header>
<main class="p-4">
<h2 class="text-lg font-bold leading-tight tracking-tight text-[var(--text-primary)] px-4 mb-4">Dzisiaj</h2>
<div id="imageGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
<!-- Images will be loaded here dynamically -->
</div>
<div id="loading" class="text-center py-8">
<div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--secondary-color)]"></div>
<p class="mt-2 text-[var(--text-secondary)]">Ładowanie zdjęć...</p>
</div>
</main>
</div>
<footer class="bg-[var(--primary-color)] text-white/80 py-6 text-center">
<div class="container mx-auto px-4">
<nav class="grid grid-cols-3 gap-4 mb-4">
<a class="flex flex-col items-center justify-center gap-1 rounded-lg py-2 text-white/60 hover:text-white transition-colors" href="add.html">
<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg>
<span class="text-xs font-medium">Dodaj</span>
</a>
<a class="flex flex-col items-center justify-center gap-1 rounded-lg py-2 text-[var(--secondary-color)] hover:text-white transition-colors" href="lista.html">
<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect><circle cx="9" cy="9" r="2"></circle><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path></svg>
<span class="text-xs font-medium">Lista</span>
</a>
<a class="flex flex-col items-center justify-center gap-1 rounded-lg py-2 text-white/60 hover:text-white transition-colors" href="delete.html">
<svg fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>
<span class="text-xs font-medium">Usuń</span>
</a>
</nav>
<p class="text-sm">© 2024 Świat Smartfonów. Panel zarządzania.</p>
</div>
</footer>
</div>

<script>
// Load images from API
async function loadImages() {
    try {
        const response = await fetch('/.netlify/functions/images');
        const images = await response.json();
        
        const imageGrid = document.getElementById('imageGrid');
        const loading = document.getElementById('loading');
        
        loading.style.display = 'none';
        
        if (images.length === 0) {
            imageGrid.innerHTML = '<div class="col-span-full text-center py-8 text-[var(--text-secondary)]">Brak zdjęć do wyświetlenia</div>';
            return;
        }
        
        imageGrid.innerHTML = images.map(image => {
            const imageUrl = image.urls?.small || image.urls?.medium || image.urls?.original;
            const fileName = imageUrl ? imageUrl.split('/').pop() : 'Unknown';
            const fileSize = Math.round(Math.random() * 5 + 1) + 'MB'; // Placeholder
            const date = new Date(image.created_at).toLocaleDateString('pl-PL');
            
            return `
                <div class="group relative flex flex-col gap-2 cursor-pointer">
                    <div class="relative w-full aspect-square">
                        <div class="absolute inset-0 bg-center bg-no-repeat bg-cover rounded-lg transition-transform duration-300 group-hover:scale-105" style="background-image: url('${imageUrl}');"></div>
                        <div class="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg flex items-center justify-center">
                            <button class="text-white bg-accent/80 rounded-full p-2" onclick="viewImage('${imageUrl}')">
                                <svg fill="currentColor" height="20" viewBox="0 0 256 256" width="20" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M128,104a8,8,0,0,1,8,8v48a8,8,0,0,1-16,0v-48A8,8,0,0,1,128,104Zm40,16a8,8,0,0,0-8-8H96a8,8,0,0,0,0,16h64A8,8,0,0,0,168,120Zm-86.34,67.66A104,104,0,1,0,32.34,81.66,104.11,104.11,0,0,0,81.66,187.66ZM48.69,67.31a88,88,0,1,1,19.31,19.31L48.69,67.31Z"></path>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div>
                        <p class="text-text-primary text-sm font-medium leading-normal truncate">${fileName}</p>
                        <p class="text-text-secondary text-xs font-normal leading-normal">${date} · ${fileSize}</p>
                    </div>
                </div>
            `;
        }).join('');
        
    } catch (error) {
        console.error('Error loading images:', error);
        document.getElementById('loading').innerHTML = '<p class="text-red-500">Błąd podczas ładowania zdjęć</p>';
    }
}

function viewImage(url) {
    window.open(url, '_blank');
}

// Load images when page loads
document.addEventListener('DOMContentLoaded', loadImages);
</script>

</body></html>